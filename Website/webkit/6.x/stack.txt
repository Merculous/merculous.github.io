[30657:30657:0919/004133:ERROR:renderer_main.cc(227)] Running without renderer sandbox
=================================================================
==30657==ERROR: AddressSanitizer: heap-use-after-free on address 0x60800001df34 at pc 0x7f6592f84c91 bp 0x7fff98cad0c0 sp 0x7fff98cad0b8
READ of size 4 at 0x60800001df34 thread T0 (chrome)
    #0 0x7fae0d6ffc90 in WebCore::Node::getFlag(WebCore::Node::NodeFlags) const /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/dom/Node.h:755:0
    #1 0x7fae0e1325d4 in WebCore::canMergeLists(WebCore::Element*, WebCore::Element*) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/htmlediting.cpp:748:0
    #2 0x7fae0e0dff1f in WebCore::IndentOutdentCommand::tryIndentingAsListItem(WebCore::Position const&, WebCore::Position const&) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/IndentOutdentCommand.cpp:79:0
    #3 0x7fae0e0e1b2b in WebCore::IndentOutdentCommand::formatRange(WebCore::Position const&, WebCore::Position const&, WebCore::Position const&, WTF::RefPtr<WebCore::Element>&) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/IndentOutdentCommand.cpp:230:0
    #4 0x7fae0e54f0fd in WebCore::ApplyBlockElementCommand::formatSelection(WebCore::VisiblePosition const&, WebCore::VisiblePosition const&) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/ApplyBlockElementCommand.cpp:136:0
    #5 0x7fae0e54e7a7 in WebCore::ApplyBlockElementCommand::doApply() /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/ApplyBlockElementCommand.cpp:89:0
    #9 0x7f2a13af11b7 in WebCore::CompositeEditCommand::apply() /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/CompositeEditCommand.cpp:184:0
    #7 0x7fae0e0c965e in WebCore::executeIndent(WebCore::Frame&, WebCore::Event*, WebCore::EditorCommandSource, WTF::String const&) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/EditorCommand.cpp:487:0
    #12 0x7f2a136523b5 in WebCore::Editor::Command::execute(WTF::String const&, WebCore::Event*) const /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/EditorCommand.cpp:1717:0
    #13 0x7f2a12df47c0 in WebCore::Document::execCommand(WTF::String const&, bool, WTF::String const&) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/dom/Document.cpp:4165:0
    #14 0x7f2a1457e01f in WebCore::DocumentV8Internal::execCommandMethod(v8::FunctionCallbackInfo<v8::Value> const&) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/gen/blink/bindings/V8Document.cpp:3913:0
    #15 0x7f2a1457ad6c in WebCore::DocumentV8Internal::execCommandMethodCallback(v8::FunctionCallbackInfo<v8::Value> const&) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/gen/blink/bindings/V8Document.cpp:3920:0
    #16 0x7f2a1283d88f in v8::internal::FunctionCallbackArguments::Call(void (*)(v8::FunctionCallbackInfo<v8::Value> const&)) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../v8/src/arguments.cc:56:0
    #17 0x7f2a122f9ab8 in v8::internal::MaybeObject* v8::internal::HandleApiCallHelper<false>(v8::internal::(anonymous namespace)::BuiltinArguments<(v8::internal::BuiltinExtraArguments)1>, v8::internal::Isolate*) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../v8/src/builtins.cc:1272:0
    #18 0x7f2a122ecdc4 in v8::internal::Builtin_HandleApiCall(int, v8::internal::Object**, v8::internal::Isolate*) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../v8/src/builtins.cc:1288:0
    #15 0x1449135069cd (+0x9cd)
0x60800001df34 is located 20 bytes inside of 96-byte region [0x60800001df20,0x60800001df80)
freed by thread T0 (chrome) here:
    #0 0x7f3dadc38a74 in free /usr/local/google/work/chromium/src/third_party/llvm/projects/compiler-rt/lib/asan/asan_malloc_linux.cc:64:0
    #1 0x7fdf729e10de in derefIfNotNull<WebCore::Node> /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/wtf/PassRefPtr.h:45:0
    #2 0x7fdf729e102d in WebCore::RemoveNodeCommand::~RemoveNodeCommand() /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/RemoveNodeCommand.h:33:0
    #3 0x7fdf729b6f20 in derefIfNotNull<WebCore::EditCommand> /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/wtf/PassRefPtr.h:45:0
    #4 0x7fdf729b6e3b in WTF::Vector<WTF::RefPtr<WebCore::EditCommand>, 0ul>::shrink(unsigned long) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/wtf/Vector.h:853:0
    #5 0x7fdf729b6df9 in WTF::Vector<WTF::RefPtr<WebCore::EditCommand>, 0ul>::~Vector() /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/wtf/Vector.h:516:0
    #6 0x7fdf729a6026 in WebCore::CompositeEditCommand::~CompositeEditCommand() /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/CompositeEditCommand.cpp:155:0
    #7 0x7fdf7252934d in WebCore::InsertListCommand::~InsertListCommand() /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/InsertListCommand.h:35:0
    #8 0x7fdf724f9b2a in derefIfNotNull<WebCore::CompositeEditCommand> /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/wtf/PassRefPtr.h:45:0
    #9 0x7fdf724f936c in WebCore::Editor::appliedEditing(WTF::PassRefPtr<WebCore::CompositeEditCommand>) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/Editor.cpp:781:0
    #12 0x7fa6b703d217 in WebCore::CompositeEditCommand::apply() /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/CompositeEditCommand.cpp:190:0
    #10 0x7f92b2afd454 in WebCore::Editor::applyParagraphStyle(WebCore::StylePropertySet*, WebCore::EditAction) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/Editor.cpp:693:0
    #11 0x7f92b2b15a63 in WebCore::executeApplyParagraphStyle(WebCore::Frame&, WebCore::EditorCommandSource, WebCore::EditAction, WebCore::CSSPropertyID, WTF::String const&) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/EditorCommand.cpp:186:0
    #27 0x7f94fc2bfe16 in WebCore::executeJustifyCenter(WebCore::Frame&, WebCore::Event*, WebCore::EditorCommandSource, WTF::String const&) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/EditorCommand.cpp:586:0
    #12 0x7f2a136523b5 in WebCore::Editor::Command::execute(WTF::String const&, WebCore::Event*) const /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/EditorCommand.cpp:1717:0
    #13 0x7f2a12df47c0 in WebCore::Document::execCommand(WTF::String const&, bool, WTF::String const&) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/dom/Document.cpp:4165:0
    #14 0x7f2a1457e01f in WebCore::DocumentV8Internal::execCommandMethod(v8::FunctionCallbackInfo<v8::Value> const&) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/gen/blink/bindings/V8Document.cpp:3913:0
    #15 0x7f2a1457ad6c in WebCore::DocumentV8Internal::execCommandMethodCallback(v8::FunctionCallbackInfo<v8::Value> const&) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/gen/blink/bindings/V8Document.cpp:3920:0
    #16 0x7f2a1283d88f in v8::internal::FunctionCallbackArguments::Call(void (*)(v8::FunctionCallbackInfo<v8::Value> const&)) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../v8/src/arguments.cc:56:0
    #17 0x7f2a122f9ab8 in v8::internal::MaybeObject* v8::internal::HandleApiCallHelper<false>(v8::internal::(anonymous namespace)::BuiltinArguments<(v8::internal::BuiltinExtraArguments)1>, v8::internal::Isolate*) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../v8/src/builtins.cc:1272:0
    #18 0x7f2a122ecdc4 in v8::internal::Builtin_HandleApiCall(int, v8::internal::Object**, v8::internal::Isolate*) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../v8/src/builtins.cc:1288:0
    #21 0x1449135069cd (+0x9cd)
    #22 0x144913579dc2 (+0x73dc2)
    #23 0x14491355475f (+0x4e75f)
    #24 0x144913554626 (+0x4e626)
    #25 0x144913536b83 (+0x30b83)
    #26 0x14491351a5f6 (+0x145f6)
    #19 0x7f2050c37512 in v8::internal::Invoke(bool, v8::internal::Handle<v8::internal::JSFunction>, v8::internal::Handle<v8::internal::Object>, int, v8::internal::Handle<v8::internal::Object>*, bool*) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../v8/src/execution.cc:119:0
    #28 0x7f417ed998f7 in v8::Script::Run() /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../v8/src/api.cc:1883:0
    #29 0x7f41811f9029 in WebCore::V8ScriptRunner::runCompiledScript(v8::Handle<v8::Script>, WebCore::ScriptExecutionContext*, v8::Isolate*) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/bindings/v8/V8ScriptRunner.cpp:95:0
previously allocated by thread T0 (chrome) here:
    #0 0x7f3dadc38bb4 in malloc /usr/local/google/work/chromium/src/third_party/llvm/projects/compiler-rt/lib/asan/asan_malloc_linux.cc:74:0
    #1 0x7fdf71d3fab8 in partitionAlloc /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/wtf/PartitionAlloc.h:206:0
    #2 0x7fdf76e7f439 in WebCore::HTMLLIElement::create(WebCore::Document&) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/html/HTMLLIElement.cpp:44:0
    #3 0x7fdf72572f17 in WebCore::createListItemElement(WebCore::Document&) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/htmlediting.cpp:840:0
    #4 0x7fdf72528513 in WebCore::InsertListCommand::listifyParagraph(WebCore::VisiblePosition const&, WebCore::QualifiedName const&) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/InsertListCommand.cpp:337:0
    #22 0x7ff0ce9d24c3 in WebCore::InsertListCommand::doApplyForSingleParagraph(bool, WebCore::QualifiedName const&, WebCore::Range*) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/InsertListCommand.cpp:250:0
    #6 0x7fdf725263a0 in WebCore::InsertListCommand::doApply() /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/InsertListCommand.cpp:158:0
    #9 0x7f2a13af11b7 in WebCore::CompositeEditCommand::apply() /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/CompositeEditCommand.cpp:184:0
    #8 0x7fdf7250a3cf in WebCore::executeInsertUnorderedList(WebCore::Frame&, WebCore::Event*, WebCore::EditorCommandSource, WTF::String const&) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/EditorCommand.cpp:580:0
    #12 0x7f2a136523b5 in WebCore::Editor::Command::execute(WTF::String const&, WebCore::Event*) const /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/editing/EditorCommand.cpp:1717:0
    #13 0x7f2a12df47c0 in WebCore::Document::execCommand(WTF::String const&, bool, WTF::String const&) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/dom/Document.cpp:4165:0
    #14 0x7f2a1457e01f in WebCore::DocumentV8Internal::execCommandMethod(v8::FunctionCallbackInfo<v8::Value> const&) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/gen/blink/bindings/V8Document.cpp:3913:0
    #15 0x7f2a1457ad6c in WebCore::DocumentV8Internal::execCommandMethodCallback(v8::FunctionCallbackInfo<v8::Value> const&) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/gen/blink/bindings/V8Document.cpp:3920:0
    #16 0x7f2a1283d88f in v8::internal::FunctionCallbackArguments::Call(void (*)(v8::FunctionCallbackInfo<v8::Value> const&)) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../v8/src/arguments.cc:56:0
    #17 0x7f2a122f9ab8 in v8::internal::MaybeObject* v8::internal::HandleApiCallHelper<false>(v8::internal::(anonymous namespace)::BuiltinArguments<(v8::internal::BuiltinExtraArguments)1>, v8::internal::Isolate*) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../v8/src/builtins.cc:1272:0
    #18 0x7f2a122ecdc4 in v8::internal::Builtin_HandleApiCall(int, v8::internal::Object**, v8::internal::Isolate*) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../v8/src/builtins.cc:1288:0
    #16 0x1449135069cd (+0x9cd)
    #17 0x144913550a4f (+0x4aa4f)
    #18 0x1449135506c6 (+0x4a6c6)
    #19 0x144913536b83 (+0x30b83)
    #20 0x14491351a5f6 (+0x145f6)
    #19 0x7f2050c37512 in v8::internal::Invoke(bool, v8::internal::Handle<v8::internal::JSFunction>, v8::internal::Handle<v8::internal::Object>, int, v8::internal::Handle<v8::internal::Object>*, bool*) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../v8/src/execution.cc:119:0
    #28 0x7f417ed998f7 in v8::Script::Run() /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../v8/src/api.cc:1883:0
    #29 0x7f41811f9029 in WebCore::V8ScriptRunner::runCompiledScript(v8::Handle<v8::Script>, WebCore::ScriptExecutionContext*, v8::Isolate*) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/bindings/v8/V8ScriptRunner.cpp:95:0
    #29 0x7f56f4bf597d in WebCore::ScriptController::compileAndRunScript(WebCore::ScriptSourceCode const&, WebCore::AccessControlStatus) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/bindings/v8/ScriptController.cpp:233:0
    #29 0x7f2b1bf56718 in WebCore::ScheduledAction::execute(WebCore::Frame*) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/bindings/v8/ScheduledAction.cpp:102:0
    #21 0x7f953003c667 in WebCore::DOMTimer::fired() /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/page/DOMTimer.cpp:144:0
    #7 0x7fd0ba7e7121 in WebCore::ThreadTimers::sharedTimerFiredInternal() /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/platform/ThreadTimers.cpp:134:0
    #8 0x7fd0ba7e6ba4 in WebCore::ThreadTimers::sharedTimerFired() /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../third_party/WebKit/Source/core/platform/ThreadTimers.cpp:108:0
    #9 0x7fd0bdc4d83a in base::internal::InvokeHelper<false, void, base::internal::RunnableAdapter<void (webkit_glue::WebKitPlatformSupportImpl::*)()>, void (webkit_glue::WebKitPlatformSupportImpl*)>::MakeItSo(base::internal::RunnableAdapter<void (webkit_glue::WebKitPlatformSupportImpl::*)()>, webkit_glue::WebKitPlatformSupportImpl*) /b/build/slave/ASAN_Release__symbolized_/build/src/out/Release/../../base/bind_internal.h:871:0
Shadow bytes around the buggy address:
  0x0c107fffbb90: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd
  0x0c107fffbba0: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd
  0x0c107fffbbb0: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd
  0x0c107fffbbc0: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd
  0x0c107fffbbd0: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd
=>0x0c107fffbbe0: fa fa fa fa fd fd[fd]fd fd fd fd fd fd fd fd fd
  0x0c107fffbbf0: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd
  0x0c107fffbc00: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd
  0x0c107fffbc10: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd
  0x0c107fffbc20: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd
  0x0c107fffbc30: fa fa fa fa fd fd fd fd fd fd fd fd fd fd fd fd
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07
  Heap left redzone:     fa
  Heap right redzone:    fb
  Freed heap region:     fd
  Stack left redzone:    f1
  Stack mid redzone:     f2
  Stack right redzone:   f3
  Stack partial redzone: f4
  Stack after return:    f5
  Stack use after scope: f8
  Global redzone:        f9
  Global init order:     f6
  Poisoned by user:      f7
  ASan internal:         fe
==30657==ABORTING
